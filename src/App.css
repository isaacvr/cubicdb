@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  line-height: 1.5;
  font-weight: 400;
  font-size: calc(16px * var(--zoom-factor, 100) / 100);
  color-scheme: dark;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  transition: all 200ms;
}

#app {
  display: contents;
}

body {
  background-image: url(/assets/background-v2.svg);
  background-position: center;
  background-size: cover;
  margin: 0;
  display: flex;
  min-width: 320px;
  min-height: 100svh;
  position: relative;
  /* font-family: var(--app-font); */
  font-family:
    Ubuntu,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    Oxygen,
    Cantarell,
    "Open Sans",
    "Helvetica Neue",
    sans-serif;
  display: grid;
  overflow: hidden;
}

body,
label {
  cursor: url(/assets/cursors/default.svg), auto;
}
/* 
textarea,
input {
  cursor: url(/assets/cursors/text.svg) 12 12, text;
} */

a:hover:hover,
button:hover:hover,
.cursor-pointer:hover:hover,
input[type="range"]:hover,
input[type="checkbox"]:hover {
  cursor:
    url("/assets/cursors/pointer.svg") 6 0,
    pointer !important;
}

.ubuntu {
  font-family: "Ubuntu";
}
.ubuntu-mono {
  font-family: "Ubuntu-Mono";
}
.ropa-sans {
  font-family: "RopaSans";
}
.bree-serif {
  font-family: "BreeSerif";
}
.cq-mono {
  font-family: "CQMono";
}
.raleway {
  font-family: "Raleway";
}
.roboto {
  font-family: "Roboto";
}
.lcd4 {
  font-family: "lcd4";
}
.monaco {
  font-family: "Monaco";
}
.monospaced {
  font-family: "Courier New", Courier, monospace;
}

@property --percent {
  syntax: "<percentage>";
  inherits: false;
  initial-value: 0%;
}

@property --color {
  syntax: "<color>";
  inherits: false;
  initial-value: white;
}

@keyframes ripple-effect {
  0% {
    --percent: 0%;
    --color: var(--color1);
  }

  100% {
    --percent: 200%;
    --color: var(--color2);
  }
}

.ripple {
  --percent: 0%;
  --color: white;
  --color1: white;
  --color2: transparent;

  background-image: radial-gradient(
    circle at var(--x, 50%) var(--y, 50%),
    var(--color, white),
    var(--color, white) var(--percent, 0%),
    transparent 0%
  );

  animation: ripple-effect var(--duration) linear 0s 1;
}

.container-mini {
  @apply mt-4 px-5;
}

mark {
  @apply bg-opacity-70 p-1 inline-flex items-center justify-center my-1;
  border-radius: 0.25rem;
}

.note {
  @apply bg-white bg-opacity-10 p-2 text-left border-l-8 border-l-info
    shadow-md rounded-sm text-sm;
}

/* Reconstructions */
pre .space {
  width: 1ch;
}

pre .move {
  @apply text-move relative z-0;
}

pre .move.current {
  @apply bg-primary rounded-sm text-current;
  box-shadow: 0 0 0 0.2rem oklch(var(--p));
}

pre .comment {
  @apply text-comment;
}

pre .error {
  @apply text-error;
}

pre .operator {
  @apply text-operator;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 0.7rem;
}

::-webkit-scrollbar-track {
  background-color: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(187, 187, 246, 0.5);
  border-radius: 1rem;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(163, 171, 255, 0.5);
}

::-webkit-scrollbar-button {
  display: none;
}

::-webkit-scrollbar-corner {
  height: 0;
  padding: 0;
  margin: 0;
}

::-webkit-scrollbar-track-piece {
  background: transparent;
}

* {
  scrollbar-color: unset;
}

*:hover {
  scrollbar-color: unset;
}

/* Theme stuff */
.shaded-card {
  @apply rounded-lg p-2 border-primary border-opacity-[0.15];
  border-width: max(0.1rem, 1px);
  border-style: solid;
  background: linear-gradient(to top, oklch(var(--p) / 0.07), oklch(var(--p) / 0.03));
  backdrop-filter: blur(1rem);
}

.svg-container:hover svg * {
  --animation-time: 400ms;
  stroke-dasharray: var(--dash);
  stroke-dashoffset: var(--dash);
  animation: dash var(--animation-time) linear forwards;
}

@media (prefers-reduced-motion) {
  .svg-container:hover svg * {
    --animation-time: 0s;
  }
}

@keyframes dash {
  to {
    stroke-dashoffset: 0;
  }
}
